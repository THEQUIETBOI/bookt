javascript:(function()%7Bfunction%20init()%20%7B%0A%20%20const%20mainContainer%20%3D%20document.createElement('div')%3B%0A%20%20mainContainer.className%20%3D'main-container'%3B%0A%20%20mainContainer.id%20%3D%20'main-container'%3B%0A%20%20document.body.appendChild(mainContainer)%3B%0A%0A%20%20const%20settingsPage%20%3D%20document.createElement('div')%3B%0A%20%20settingsPage.className%20%3D%20'settings-page'%3B%0A%20%20mainContainer.appendChild(settingsPage)%3B%0A%0A%20%20const%20settingsContainer%20%3D%20document.createElement('div')%3B%0A%20%20settingsContainer.className%20%3D%20'settings-container'%3B%0A%20%20settingsPage.appendChild(settingsContainer)%3B%0A%0Aconst%20apiKey%20%3D%20document.createElement('input')%3B%0A%20%20apiKey.type%20%3D%20'text'%3B%0A%20%20apiKey.className%20%3D%20'api-key'%3B%0A%20%20apiKey.placeholder%20%3D%20'API%20KEY%20HERE'%3B%0A%20%20settingsContainer.appendChild(apiKey)%3B%0A%0Aconst%20Prompt%20%3D%20document.createElement('input')%3B%0A%20%20Prompt.type%20%3D%20%22text%22%3B%0A%20%20Prompt.className%20%3D%20'prompt'%3B%0A%20%20Prompt.placeholder%20%3D%20'Type%20your%20prompt%20here...'%3B%0A%20%20settingsContainer.appendChild(Prompt)%3B%0A%0A%20%20const%20close%20%3D%20document.createElement('button')%3B%0A%20%20close.className%20%3D%20'close-button'%3B%0A%20%20close.innerHTML%20%3D%20'Close'%3B%0A%20%20settingsContainer.appendChild(close)%3B%0A%0A%20%20const%20buttonContainer%20%3D%20document.createElement('div')%3B%0A%20%20buttonContainer.className%20%3D%20'buttons-container'%3B%0A%20%20mainContainer.appendChild(buttonContainer)%3B%0A%20%20%0A%20%20%0Aconst%20chatContainer%20%3D%20document.createElement('div')%3B%0A%20%20chatContainer.className%20%3D%20'chat-container'%3B%0A%20%20mainContainer.appendChild(chatContainer)%3B%0A%0A%0A%0Aconst%20menuContainer%20%3D%20document.createElement('div')%3B%0A%20%20menuContainer.className%20%3D'me-container'%3B%0A%20%20mainContainer.appendChild(menuContainer)%3B%0A%0A%20%20const%20menuContainerButtons%20%3D%20document.createElement('div')%3B%0A%20%20menuContainerButtons.className%20%3D'menu-container-buttons'%3B%0A%20%20menuContainer.appendChild(menuContainerButtons)%3B%0A%0A%20%20const%20add%20%3D%20document.createElement('button')%3B%0A%20%20add.id%20%3D%20'add'%3B%0A%20%20add.innerHTML%20%3D%20%60%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20fill%3D%22%23000000%22%20version%3D%221.1%22%20id%3D%22Capa_1%22%20width%3D%2220px%22%20height%3D%2220px%22%20viewBox%3D%220%200%2045.402%2045.402%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cg%3E%0A%09%3Cpath%20d%3D%22M41.267%2C18.557H26.832V4.134C26.832%2C1.851%2C24.99%2C0%2C22.707%2C0c-2.283%2C0-4.124%2C1.851-4.124%2C4.135v14.432H4.141%20%20%20c-2.283%2C0-4.139%2C1.851-4.138%2C4.135c-0.001%2C1.141%2C0.46%2C2.187%2C1.207%2C2.934c0.748%2C0.749%2C1.78%2C1.222%2C2.92%2C1.222h14.453V41.27%20%20%20c0%2C1.142%2C0.453%2C2.176%2C1.201%2C2.922c0.748%2C0.748%2C1.777%2C1.211%2C2.919%2C1.211c2.282%2C0%2C4.129-1.851%2C4.129-4.133V26.857h14.435%20%20%20c2.283%2C0%2C4.134-1.867%2C4.133-4.15C45.399%2C20.425%2C43.548%2C18.557%2C41.267%2C18.557z%22%2F%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%60%3B%0A%20%20menuContainerButtons.appendChild(add)%3B%0A%0A%20%20const%20ChatInput%20%3D%20document.createElement('input')%3B%0A%20%20ChatInput.type%20%3D%20%22text%22%3B%0A%20%20ChatInput.className%20%3D%20%22chat-input%22%3B%0A%20%20ChatInput.placeholder%20%3D%20%22Type%20here...%22%3B%0A%20%20menuContainerButtons.appendChild(ChatInput)%3B%0A%0A%20%20const%20menuBar%20%3D%20document.createElement('div')%3B%0A%20%20menuBar.className%20%3D%20'menu-bar'%3B%0A%20%20menuContainerButtons.appendChild(menuBar)%3B%0A%0A%20%20const%20settingsButton%20%3D%20document.createElement('button')%3B%0A%20%20settingsButton.className%20%3D'settings'%3B%0AsettingsButton.innerHTML%20%3D%20%60%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20fill%3D%22%23000000%22%20height%3D%2240px%22%20width%3D%2240px%22%20version%3D%221.1%22%20id%3D%22Capa_1%22%20viewBox%3D%220%200%20489.802%20489.802%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cg%3E%0A%09%3Cpath%20d%3D%22M20.701%2C281.901l32.1%2C0.2c4.8%2C24.7%2C14.3%2C48.7%2C28.7%2C70.5l-22.8%2C22.6c-8.2%2C8.1-8.2%2C21.2-0.2%2C29.4l24.6%2C24.9%20%20%20c8.1%2C8.2%2C21.2%2C8.2%2C29.4%2C0.2l22.8-22.6c21.6%2C14.6%2C45.5%2C24.5%2C70.2%2C29.5l-0.2%2C32.1c-0.1%2C11.5%2C9.2%2C20.8%2C20.7%2C20.9l35%2C0.2%20%20%20c11.5%2C0.1%2C20.8-9.2%2C20.9-20.7l0.2-32.1c24.7-4.8%2C48.7-14.3%2C70.5-28.7l22.6%2C22.8c8.1%2C8.2%2C21.2%2C8.2%2C29.4%2C0.2l24.9-24.6%20%20%20c8.2-8.1%2C8.2-21.2%2C0.2-29.4l-22.6-22.8c14.6-21.6%2C24.5-45.5%2C29.5-70.2l32.1%2C0.2c11.5%2C0.1%2C20.8-9.2%2C20.9-20.7l0.2-35%20%20%20c0.1-11.5-9.2-20.8-20.7-20.9l-32.1-0.2c-4.8-24.7-14.3-48.7-28.7-70.5l22.8-22.6c8.2-8.1%2C8.2-21.2%2C0.2-29.4l-24.6-24.9%20%20%20c-8.1-8.2-21.2-8.2-29.4-0.2l-22.8%2C22.6c-21.6-14.6-45.5-24.5-70.2-29.5l0.2-32.1c0.1-11.5-9.2-20.8-20.7-20.9l-35-0.2%20%20%20c-11.5-0.1-20.8%2C9.2-20.9%2C20.7l-0.3%2C32.1c-24.8%2C4.8-48.8%2C14.3-70.5%2C28.7l-22.6-22.8c-8.1-8.2-21.2-8.2-29.4-0.2l-24.8%2C24.6%20%20%20c-8.2%2C8.1-8.2%2C21.2-0.2%2C29.4l22.6%2C22.8c-14.6%2C21.6-24.5%2C45.5-29.5%2C70.2l-32.1-0.2c-11.5-0.1-20.8%2C9.2-20.9%2C20.7l-0.2%2C35%20%20%20C-0.099%2C272.401%2C9.201%2C281.801%2C20.701%2C281.901z%20M179.301%2C178.601c36.6-36.2%2C95.5-35.9%2C131.7%2C0.7s35.9%2C95.5-0.7%2C131.7%20%20%20s-95.5%2C35.9-131.7-0.7S142.701%2C214.801%2C179.301%2C178.601z%22%2F%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%60%3B%0A%20%20menuBar.appendChild(settingsButton)%3B%0A%0A%0A%20%20const%20settingsLabel%20%3D%20document.createElement('label')%3B%0A%20%20settingsLabel.className%20%3D%20'custom-file-upload'%3B%0A%20%20settingsLabel.for%20%3D%20'hide'%3B%0A%20%20settingsLabel.innerHTML%20%3D%20%60%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20fill%3D%22%23000000%22%20height%3D%2240px%22%20width%3D%2240px%22%20version%3D%221.1%22%20id%3D%22Capa_1%22%20viewBox%3D%220%200%20374.116%20374.116%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cg%3E%0A%09%3Cpath%20d%3D%22M344.058%2C207.506c-16.568%2C0-30%2C13.432-30%2C30v76.609h-254v-76.609c0-16.568-13.432-30-30-30c-16.568%2C0-30%2C13.432-30%2C30%20%20%20v106.609c0%2C16.568%2C13.432%2C30%2C30%2C30h314c16.568%2C0%2C30-13.432%2C30-30V237.506C374.058%2C220.938%2C360.626%2C207.506%2C344.058%2C207.506z%22%2F%3E%0A%09%3Cpath%20d%3D%22M123.57%2C135.915l33.488-33.488v111.775c0%2C16.568%2C13.432%2C30%2C30%2C30c16.568%2C0%2C30-13.432%2C30-30V102.426l33.488%2C33.488%20%20%20c5.857%2C5.858%2C13.535%2C8.787%2C21.213%2C8.787c7.678%2C0%2C15.355-2.929%2C21.213-8.787c11.716-11.716%2C11.716-30.71%2C0-42.426L208.271%2C8.788%20%20%20c-11.715-11.717-30.711-11.717-42.426%2C0L81.144%2C93.489c-11.716%2C11.716-11.716%2C30.71%2C0%2C42.426%20%20%20C92.859%2C147.631%2C111.855%2C147.631%2C123.57%2C135.915z%22%2F%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E%60%0A%20%20menuBar.appendChild(settingsLabel)%3B%0A%0A%0A%20%20const%20fileUpload%20%3D%20document.createElement('input')%3B%0A%20%20fileUpload.type%20%3D%20'file'%3B%0A%20%20fileUpload.id%20%3D%20'hide'%3B%0A%20%20settingsLabel.appendChild(fileUpload)%3B%0A%0A%0Aconst%20stylesheet%20%3D%20document.createElement('style')%3B%0A%20%20document.head.appendChild(stylesheet)%3B%0A%0A%20%20%0A%0A%0A%0A%20%20const%20marcopolo%20%3D%20document.createElement(%22script%22)%3B%0A%20%20marcopolo.src%20%3D%20%22https%3A%2F%2Fcdn.jsdelivr.net%2Fnpm%2Fmarked%2Fmarked.min.js%22%3B%0A%20%20document.head.appendChild(marcopolo)%3B%0A%20%0AsettingsButton.onclick%20%3D%20()%20%3D%3E%20%7B%0A%20%20settingsPage.style.visibility%20%3D%20%22visible%22%3B%0A%7D%0A%0Aclose.onclick%20%3D%20()%20%3D%3E%20%7B%0A%20%20settingsPage.style.visibility%20%3D%20%22hidden%22%3B%0A%7D%0A%0A%0A%0A%0A%20%20stylesheet.innerHTML%20%3D%20%60%0A%20%0A.main-container%20%7B%0A%20%20%20%20background-color%3A%20%233d425c%3B%0A%20%20%20%20%20right%3A0%3B%0A%20%20%20%20%20bottom%3A%200%3B%0A%20%20%20%20height%3A%20410px%3B%0A%20%20%20%20min-height%3A%20200px%3B%0A%20%20%20%20width%3A%20300px%3B%0A%20%20%20%20position%3A%20fixed%3B%20%2F*%20Or%20absolute%2C%20depending%20on%20your%20needs%20*%2F%0A%20%20%20%20overflow-y%3A%20auto%3B%0A%20%20%20%20resize%3A%20both%3B%0A%20%20%20%20border-radius%3A%205%25%3B%0A%20%20%20%20min-width%3A%20300px%3B%0A%20%20%20%20max-width%3A%201000px%3B%0A%20%20%20%20border%3A%201px%20solid%20%23ccc%3B%20%2F*%20Add%20a%20border%20for%20better%20visibility%20*%2F%0A%20%20%20%20z-index%3A%201000%3B%0A%7D%0A%0A.buttons-container%20%7B%0A%20%20%20background-color%3A%20rgb(78%2C%2078%2C%2078)%3B%0A%20%20%20%20width%3A%20100%25%3B%20%0A%20%20%20%20height%3A%2040px%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20padding%3A%205px%3B%20%0A%20%20%20%20box-sizing%3A%20border-box%3B%20%0A%7D%0A%0A%0A%0A.chat-container%20%7B%0A%20%20%20%20background-color%3A%233d425c%3B%0A%20%20%20%20height%3A%20calc(100%25%20-%2090px)%3B%20%0A%20%20%20%20width%3A%20100%25%3B%20%0A%20%20%20%20overflow-y%3A%20auto%3B%0A%20%20%20%20overflow-x%3A%20hidden%3B%0A%20%20%20%20box-sizing%3A%20border-box%3B%20%0A%20%20%20%20padding%3A%2010px%3B%0A%7D%0A%0A%0A.botmessage%20%7B%0A%20%20%20%20color%3A%20rgb(255%2C%20255%2C%20255)%3B%0A%20%20%20%20font-family%3A%2013px%20%22monospace%22%3B%20%0A%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20background-color%3A%20rgb(32%2C%2032%2C%2032)%3B%0A%20%20%20%20border-radius%3A%2010px%3B%0A%20%20%20%20margin-top%3A%2030px%3B%0A%20%20%20%20padding%3A%2030px%3B%0A%20%20%20%20overflow-wrap%3A%20break-word%3B%20%0A%7D%0A%0A%0A.usermessage%20%7B%0A%20%20%20%20color%3A%20rgb(255%2C%20255%2C%20255)%3B%0A%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20background-color%3A%20rgb(32%2C%2032%2C%2032)%3B%0A%20%20%20%20border-radius%3A%2010px%3B%0A%20margin-top%3A%2030px%3B%0A%20padding%3A%2030px%3B%0A%0A%7D%0A.me-container%20%7B%0A%20%20%20%20height%3A%2020px%3B%0A%20%20%20%20background-color%3A%20%233d425c%3B%0A%20%20%20%20box-sizing%3A%20border-box%3B%20%0A%20%20%20%20padding%3A%205px%3B%0A%20%20%20%20border-radius%3A%2010px%3B%0A%20%20%20%20display%3A%20flex%3B%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20flex-direction%3A%20row%3B%0A%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20align-items%3A%20center%3B%20%20%0A%20%20%20%20%0A%7D%0A.menu-container-buttons%7B%0A%20%20%20%20background-color%3A%20gray%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20display%3Aflex%3B%0A%20%20%20%20justify-content%3Acenter%3B%0A%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20gap%3A%2010px%3B%0A%20%20%20%20padding%3A%2010px%3B%0A%20%20%20%20border-radius%3A%2050px%3B%0A%20%20%20%20border%3A%204px%20solid%20tan%3B%0A%0A%7D%0A%0A.me-container%20input%5Btype%3D%22text%22%5D%20%7B%0A%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20outline%3A%20none%3B%0A%20%20%20%20padding%3A%205px%3B%0A%20%20%20%20border%3A%201px%20tan%20solid%3B%0A%20%20%20%20background-color%3A%20%23242424%3B%0A%20%20%20%20color%3A%20rgb(255%2C%20255%2C%20255)%3B%0A%20%20%20%20border-radius%3A%2010px%3B%0A%7D%0A%0A.me-container%20%23add%20%7B%0A%20%20%20%20border-radius%3A%20100%25%3B%20%0A%20%20%20%20background-color%3A%20transparent%3B%20%0A%20%20%20%20background-position%3A%20center%3B%20%0A%20%20%20%20background-repeat%3A%20no-repeat%3B%20%0A%20%20%20%20background-size%3A%20cover%3B%0A%20%20%20%20border%3A%20none%3B%20%0A%20%20%20%20padding%3A10px%3B%20%0A%20%20%20%20font-size%2030px%3B%0A%20%20%20%20cursor%3A%20pointer%3B%20%0A%20%20%20%20user-select%3A%20none%3B%0A%7D%0A%0A%0A%0A%0A%0A.menu-bar%7B%0A%20%20%20%20height%3A%20100px%3B%0A%20%20%20%20width%3A%2040px%3B%0A%20%20%20%20border-radius%3A%2030px%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20justify-items%3A%20center%3B%0A%20%20%20%20align-content%3A%20center%3B%0A%20%20%20%20opacity%3A%200%25%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20bottom%3A%2070px%3B%0A%20%20%20%20background-color%3A%20gray%3B%0A%20%20%20%20z-index%3A%201000%3B%0A%0A%0A%0A%7D%0A%0A.menu-bar%20button%20%7B%0A%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20align-items%3A%20center%3B%0A%0A%7D%0A%0A%23add%3Afocus%20~%20.menu-bar%20%7B%0A%20%20%20%20height%3A%20100px%3B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20width%3A%2040px%3B%0A%20%20%20%20border-radius%3A%2030px%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20opacity%3A%20100%25%3B%0A%20%20%20%20bottom%3A%2070px%3B%0A%20%20%20%20background-color%3A%20gray%3B%0A%0A%7D%0A%0A.settings%7B%0Abackground-position%3A%20center%3B%0Abackground-repeat%3A%20no-repeat%3B%0Abackground-size%3A%20contain%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20padding%3A%2010px%3B%0A%20%20%20%20width%3A%2050px%3B%0A%20%20%20%20height%3A%2050px%3B%0A%20%20%20%20border-color%3A%20transparent%3B%0A%20%20%20%20background-color%3A%20transparent%3B%0A%7D%0A%0A.settings%3Ahover%20%7B%0A%20%20%20%20background-color%3A%20%23ccc%3B%0A%7D%0A.settings-page%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20background-color%3A%20rgb(46%2C%2046%2C%2046)%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%2060%25%3B%0Avisibility%3Ahidden%3B%0A%0A%7D%0A.settings-page.active%7B%0A%20%20%20%20visibility%3Avisible%3B%0A%20%20%20%20%0A%7D%0A%0A.settings-content%20%7B%0A%20%20%20%20color%3A%20white%3B%0A%20%20%20%20font-size%3A%2025px%3B%0A%20%20%20%20padding-top%3A%2050px%3B%0A%20%20%20%20padding-left%3A%2020px%3B%0A%20%20%20%20font-family%3A'Gill%20Sans'%2C%20'Gill%20Sans%20MT'%2C%20Calibri%2C%20'Trebuchet%20MS'%2C%20sans-serif%3B%0A%7D%0A.settings-container%20%7B%0A%20%20%20%20%0A%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20flex-direction%3A%20column%3B%0A%20%20%20%20gap%3A%2010px%3B%0A%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20margin%3A%2060px%3B%0A%20%20%20%20%0A%7D%0A%0A%0A%0A.custom-file-upload%20%7B%0A%20%20%20%0Abackground-position%3A%20center%3B%0Abackground-repeat%3A%20no-repeat%3B%0Abackground-size%3A%20contain%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20margin-top%3A%2010px%3B%0A%20%20%20%20width%3A%2030px%3B%0A%20%20%20%20height%3A%2030px%3B%0A%0A%20%20%20%20border-color%3A%20transparent%3B%0A%20%20%20%20background-color%3A%20transparent%3B%0A%7D%0A%0A.custom-file-upload%3Ahover%20%7B%0A%20%20%20%20background-color%3A%20%23ddd%3B%20%0A%7D%0A%0A.custom-file-upload%20input%5Btype%3D%22file%22%5D%20%7B%20%20%0A%20%20%20%20display%3A%20none%3B%0A%7D%0A%0A%0Ap%20code%20%7B%0A%20%20%20%20background-color%3A%20rgb(78%2C%2078%2C%2078)%3B%0Adisplay%3A%20inline-block%3B%0Acolor%3A%20rgb(228%2C%20228%2C%20228)%3B%0Apadding%3A%2010px%3B%0Afont-family%3A%20'Times%20New%20Roman'%2C%20Times%2C%20serif%3B%0A%0A%7D%0Ap%7B%20%0A%20%20%20%20overflow%3A%20auto%3B%0A%20%20%20%20padding%3A%2030px%3B%0A%20%20%20%20overflow-wrap%3A%20break-word%3B%0A%7D%0A%0A.hidden%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%7D%0A%20%20%20%20%40media%20only%20screen%20and%20(max-width%3A%20600px)%20%7B%0A%20%20%20%20.main-container%20%7B%0A%20%20%20%20%20%20%20%20%2F*%20...%20existing%20styles%20...%20*%2F%0A%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%20%2F*%20Adjust%20as%20needed%20*%2F%0A%20%20%20%20%7D%0A%7D%0A%0A%20%20%60%3B%0A%0A%20%0A%0A%0A%0A%0A%0A%20%20function%20makeDraggable(element%2C%20handle)%20%7B%0A%20%20%20%20let%20isDragging%20%3D%20false%3B%0A%20%20%20%20let%20offsetX%2C%20offsetY%3B%0A%20%20%0A%20%20%20%20function%20handlePointerDown(e)%20%7B%0A%20%20%20%20%20%20e.preventDefault()%3B%20%2F%2F%20Prevent%20default%20touch%20behavior%20(scrolling)%0A%20%20%20%20%20%20isDragging%20%3D%20true%3B%0A%20%20%0A%20%20%20%20%20%20const%20isTouch%20%3D%20e.type%20%3D%3D%3D%20%22touchstart%22%3B%0A%20%20%20%20%20%20const%20event%20%3D%20isTouch%20%3F%20e.touches%5B0%5D%20%3A%20e%3B%20%2F%2F%20Use%20touches%20for%20touch%20events%0A%20%20%0A%20%20%20%20%20%20offsetX%20%3D%20event.clientX%20-%20element.offsetLeft%3B%0A%20%20%20%20%20%20offsetY%20%3D%20event.clientY%20-%20element.offsetTop%3B%0A%20%20%0A%20%20%20%20%20%20document.addEventListener(%22mousemove%22%2C%20handlePointerMove)%3B%0A%20%20%20%20%20%20document.addEventListener(%22touchmove%22%2C%20handlePointerMove)%3B%0A%20%20%20%20%20%20document.addEventListener(%22mouseup%22%2C%20handlePointerUp)%3B%0A%20%20%20%20%20%20document.addEventListener(%22touchend%22%2C%20handlePointerUp)%3B%0A%20%20%20%20%20%20document.addEventListener(%22mouseleave%22%2C%20handlePointerUp)%3B%20%2F%2F%20Important!%0A%20%20%20%20%7D%0A%20%20%0A%20%20%20%20function%20handlePointerMove(e)%20%7B%0A%20%20%20%20%20%20if%20(!isDragging)%20return%3B%0A%20%20%0A%20%20%20%20%20%20const%20isTouch%20%3D%20e.type%20%3D%3D%3D%20%22touchmove%22%3B%0A%20%20%20%20%20%20const%20event%20%3D%20isTouch%20%3F%20e.touches%5B0%5D%20%3A%20e%3B%0A%20%20%0A%20%20%20%20%20%20const%20x%20%3D%20event.clientX%20-%20offsetX%3B%0A%20%20%20%20%20%20const%20y%20%3D%20event.clientY%20-%20offsetY%3B%0A%20%20%0A%20%20%20%20%20%20element.style.left%20%3D%20%60%24%7Bx%7Dpx%60%3B%0A%20%20%20%20%20%20element.style.top%20%3D%20%60%24%7By%7Dpx%60%3B%0A%20%20%20%20%7D%0A%20%20%0A%20%20%20%20function%20handlePointerUp()%20%7B%0A%20%20%20%20%20%20isDragging%20%3D%20false%3B%0A%20%20%20%20%20%20document.removeEventListener(%22mousemove%22%2C%20handlePointerMove)%3B%0A%20%20%20%20%20%20document.removeEventListener(%22touchmove%22%2C%20handlePointerMove)%3B%0A%20%20%20%20%20%20document.removeEventListener(%22mouseup%22%2C%20handlePointerUp)%3B%0A%20%20%20%20%20%20document.removeEventListener(%22touchend%22%2C%20handlePointerUp)%3B%0A%20%20%20%20%20%20document.removeEventListener(%22mouseleave%22%2C%20handlePointerUp)%3B%0A%20%20%20%20%7D%0A%20%20%0A%20%20%20%20%2F%2F%20Attach%20listeners%20to%20the%20specified%20handle%20element%0A%20%20%20%20handle.addEventListener(%22mousedown%22%2C%20handlePointerDown)%3B%0A%20%20%20%20handle.addEventListener(%22touchstart%22%2C%20handlePointerDown)%3B%0A%20%20%0A%20%20%20%20%20%20element.style.position%20%3D%20'fixed'%3B%20%2F%2F%20Important%3A%20Must%20be%20positioned!%0A%20%20%20%20%20%20element.style.cursor%20%3D%20'grab'%3B%20%2F%2F%20Initial%20cursor%20style%0A%20%20%20%20%20%20handle.style.cursor%20%3D%20'grab'%3B%20%2F%2F%20Initial%20cursor%20style%20for%20handle%0A%20%20%0A%20%20%7D%0A%20%20%0A%20%20%0A%20%20%0A%20%20%2F%2F%20Example%20usage%20(assuming%20you%20have%20elements%20with%20these%20IDs)%3A%0A%20%20const%20mainContainers%20%3D%20document.getElementById(%22main-container%22)%3B%0A%20%20const%20buttonContainers%20%3D%20document.getElementById(%22button-container%22)%3B%20%2F%2F%20Your%20%22handle%22%0A%20%20%0A%20%20if%20(mainContainer%20%26%26%20buttonContainer)%20%7B%0A%20%20%20%20makeDraggable(mainContainer%2C%20buttonContainer)%3B%0A%20%20%7D%0A%20%20%0A%20%20%0A%20%20%2F%2F%20For%20multiple%20elements%20with%20classes%3A%0A%20%20const%20containers%20%3D%20document.querySelectorAll('.main-container')%3B%0A%20%20const%20handles%20%3D%20document.querySelectorAll('.button-container')%3B%20%2F%2F%20Or%20a%20different%20class%20for%20handles%0A%20%20%0A%20%20containers.forEach((container%2C%20index)%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(handles%5Bindex%5D)%20%7B%20%2F%2F%20Ensure%20a%20handle%20exists%20for%20each%20container%0A%20%20%20%20%20%20%20%20%20%20makeDraggable(container%2C%20handles%5Bindex%5D)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20console.warn(%22No%20handle%20found%20for%20container%22%2C%20container)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%7D)%3B%0A%0A%0A%0A%20%20%0A%0A%0A%0A%0A%0A%0A%0A%0A%0A%0A%0A%0A%0A%0A%0A%20%20%0A%20%20const%20hide%20%3D%20document.getElementById(%22main-container%22)%3B%0A%20%20document.addEventListener(%22keydown%22%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20if%20(e.key.toLowerCase()%20%3D%3D%3D%20%22e%22)%20%7B%0A%20%20%20%20%20%20if%20(document.activeElement%20!%3D%3D%20ChatInput)%20%7B%0A%20%20%20%20%20%20%20%20mainContainer.classList.toggle(%22hidden%22)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20ChatInput.addEventListener(%22keydown%22%2C%20async%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(e.key%20%3D%3D%3D%20%22Enter%22)%20%7B%0A%20%20%20%20%20%20%20%20const%20userInput%20%3D%20ChatInput.value.trim()%3B%20%2F%2F%20Store%20and%20trim%20user%20input%0A%0A%20%20%20%20%20%20%20%20if%20(userInput%20!%3D%3D%20%22%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20ChatInput.value%20%3D%20%22%22%3B%20%2F%2F%20Clear%20input%20immediately%0A%0A%20%20%20%20%20%20%20%20%20%20const%20userMessage%20%3D%20document.createElement(%22p%22)%3B%0A%20%20%20%20%20%20%20%20%20%20userMessage.className%20%3D%20%22userMessage%22%3B%0A%20%20%20%20%20%20%20%20%20%20userMessage.textContent%20%3D%20%22You%3A%20%22%20%2B%20userInput%3B%0A%20%20%20%20%20%20%20%20%20%20chatContainer.appendChild(userMessage)%3B%0A%20%20%20%20%20%20%20%20%20%20chatContainer.scrollTop%20%3D%20chatContainer.scrollHeight%3B%20%2F%2F%20Scroll%20immediately%20after%20adding%20user%20message%0A%0A%20%20%20%20%20%20%20%20%20%20const%20botMessage%20%3D%20document.createElement(%22p%22)%3B%20%2F%2F%20Create%20bot%20message%20element%20*before*%20the%20API%20call%0A%20%20%20%20%20%20%20%20%20%20botMessage.className%20%3D%20%22botMessage%22%3B%0A%20%20%20%20%20%20%20%20%20%20botMessage.textContent%20%3D%20%22Bot%3A%20Thinking...%22%3B%20%2F%2F%20Indicate%20that%20the%20bot%20is%20processing%0A%20%20%20%20%20%20%20%20%20%20chatContainer.appendChild(botMessage)%3B%0A%20%20%20%20%20%20%20%20%20%20chatContainer.scrollTop%20%3D%20chatContainer.scrollHeight%3B%20%2F%2F%20Scroll%20after%20adding%20placeholder%0A%20%20%20%20%20%20%20%20%20%20fetch(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22https%3A%2F%2Fgenerativelanguage.googleapis.com%2Fv1beta%2Fmodels%2Fgemini-1.5-flash%3AgenerateContent%3Fkey%3D%22%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStorage.getItem(%22key%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20method%3A%20%22POST%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20headers%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Content-Type%22%3A%20%22application%2Fjson%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20body%3A%20JSON.stringify(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20system_instruction%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20parts%3A%20%5B%7B%20text%3A%20Prompt.value%20%7D%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20contents%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20parts%3A%20%5B%7B%20text%3A%20userInput%20%7D%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20.then((response)%20%3D%3E%20response.json())%0A%20%20%20%20%20%20%20%20%20%20%20%20.then((data)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20chatContainer.removeChild(botMessage)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data.candidates%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data.candidates.length%20%3E%200%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data.candidates%5B0%5D.content%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20botResponse%20%3D%20data.candidates%5B0%5D.content.parts%5B0%5D.text%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.toString()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.trim()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20botMessage%20%3D%20document.createElement(%22p%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20botMessage.className%20%3D%20%22botMessage%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20parsedResponse%20%3D%20marked.parse(botResponse)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20botMessage.innerHTML%20%3D%20%22Bot%3A%20%22%20%2B%20parsedResponse%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(%22not%20found%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20chatContainer.appendChild(botMessage)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ChatInput.value%20%3D%20%22%22%3B%20%2F%2F%20Clear%20input%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20chatContainer.scrollTop%20%3D%20chatContainer.scrollHeight%3B%20%2F%2F%20Scroll%20to%20bottom%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Handle%20cases%20where%20the%20API%20doesn't%20return%20a%20valid%20response%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(console.error(%22Invalid%20API%20response%3A%22%2C%20data))%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20errorMessage%20%3D%20document.createElement(%22p%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20errorMessage.className%20%3D%20%22botMessage%20error%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20errorMessage.textContent%20%3D%20%22Error%3A%20Could%20not%20get%20a%20response.%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20chatContainer.appendChild(errorMessage)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ChatInput.value%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20chatContainer.scrollTop%20%3D%20chatContainer.scrollHeight%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20.catch((error)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error(%22API%20request%20failed%3A%22%2C%20error)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20errorMessage%20%3D%20document.createElement(%22p%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20errorMessage.className%20%3D%20%22botMessage%20error%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20errorMessage.textContent%20%3D%20%22Error%3A%20API%20request%20failed.%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20chatContainer.appendChild(errorMessage)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ChatInput.value%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20chatContainer.scrollTop%20%3D%20chatContainer.scrollHeight%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20apiKey.onchange%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20alert(%22updated%20key%22)%3B%0A%20%20%20%20%20%20if%20(localStorage.getItem(%22key%22))%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20Key%20already%20exists%2C%20update%20it%0A%20%20%20%20%20%20%20%20localStorage.setItem(%22key%22%2C%20apiKey.value)%3B%0A%20%20%20%20%20%20%20%20console.log(%22API%20key%20updated%20in%20localStorage.%22)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20Key%20doesn't%20exist%2C%20create%20it%0A%20%20%20%20%20%20%20%20localStorage.setItem(%22key%22%2C%20apiKey.value)%3B%0A%20%20%20%20%20%20%20%20console.log(%22API%20key%20created%20in%20localStorage.%22)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Prompt.onchange%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20alert(%22updated%20prompt%22)%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D)%3B%0A%7D%0A%0Ainit()%3B%7D)()%3B
